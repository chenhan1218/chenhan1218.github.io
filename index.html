<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.22.1" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>ChenHan&#39;s Tech blog &middot; </title>

  
  <link rel="stylesheet" href="https://swem.github.io/css/poole.css">
  <link rel="stylesheet" href="https://swem.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://swem.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="https://swem.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="https://swem.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="https://swem.github.io/css/highlight/default.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://swem.github.io/touch-icon-144-precomposed.png">
  <link href="https://swem.github.io/favicon.png" rel="icon">

  
  
  
  <link href="https://swem.github.io/index.xml" rel="alternate" type="application/rss+xml" title="ChenHan&#39;s Tech blog &middot; " />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
</head>
<body class="theme-base-08">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1></h1>
      <p class="lead">Chen-Han (Stanley) Hsiao</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://swem.github.io/">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="https://swem.github.io/about/">About</a></li>
      
      <li class="sidebar-nav-item"><a href="https://swem.github.io/post/">Post</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/swem"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      <a href="https://www.linkedin.com/in/chen-han-hsiao-2b486049"><i class="fa fa-linkedin-square fa-3x"></i></a>
      
      
      
      
      
      </li>
    </ul>

    

    <p>Copyright &copy; 2017 <a href="https://swem.github.io/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2017-07-01-migrate-to-hugo/">Migrate to Hugo</a>
      </h1>
      <span class="post-date">Jul 1, 2017 &middot; 2 minute read
      </span>
      
      <p>Due to some software issues not fixing for long time on logdown.com [2], I decided to finding other blog solutions for hosting my tech blog. After considering several options (Such as Hugo, Ghost, Octopress, Jekyll, Jekyll-Now). The final choice goes to Hugo. Hugo is a popular static website generator which built on top of Golang. The community support is actively. Over 18 thousands stars on Hugo github repository. And Debian/Ubuntu has hugo packages which is very easily for normal user to install.</p>

<p>For migrating to Hugo, I exported all my articles on logdown, which content is served with similar format to Octopress. And then dump all the markdown files into content/post/ folder in newly created hugo repository. Everything went well except two steps were needed.
1. I used sed script in [1] to change date format, otherwise the hugo will print parsing error.
2. Remove all the</p>

<pre><code>layout: post
</code></pre>

<p>line in the octopress markdown article</p>

<p>In fact I spent some time (more thant I expected) to select the Hugo theme. At begining none of the themes seems fit my need (Easy setup, Large font). Finally I got <a href="https://themes.gohugo.io/hugo-geo/">hugo-geo</a> theme which is great.</p>

<p>[1] <a href="https://jaketrent.com/post/conversion-from-octopress-to-hugo/">https://jaketrent.com/post/conversion-from-octopress-to-hugo/</a></p>

<p>[2] I can&rsquo;t login via facebook account. This feature have been broken for nearly half year. Another feature broken is url auto-generate.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2017-07-01-receive-ads-b-via-rtl-sdb/">利用 RTL-SDB 接收 ads-b 訊號</a>
      </h1>
      <span class="post-date">Jul 1, 2017 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      

<p>Automatic dependent surveillance – broadcast (ADS–B) 是
廣播式自動回報監視（ADS-B）[1]。航機每秒發射一次之航機位置、高度、位置完整性、航機識別、航機24 bit位址、速度及其他資料。只要準備一個簡易的 ADS-B 接收器，就可以收到這些訊息。下面介紹怎麼使用 dump1090 ，來觀察這些航機發送出來的訊息。</p>

<p>無論使用哪種方式啟動，都要先確定一些 driver 不會被自動載入。設定 driver blacklist 後，重開機讓設定生效。</p>

<pre><code>$ cat &lt;&lt; EOF &gt; /tmp/blacklist-rtl-sdr.conf
blacklist dvb_usb_rtl28xxu
blacklist e4000
blacklist rtl2832
EOF
$ sudo mv /tmp/blacklist-rtl-sdr.conf /etc/modprobe.d
$ sudo reboot
</code></pre>

<p>接上 Realtek 2838 DVB-T usb stick。可以用 lsusb 確認己連接</p>

<pre><code>$ lsusb
Bus 003 Device 014: ID 0bda:2838 Realtek Semiconductor Corp. RTL2838 DVB-T
</code></pre>

<p>接下來可以選擇使用 docker 或 snap 來啟動 dump1090</p>

<h2 id="docker">Docker</h2>

<p>我的測試環境是 Debian 9.0 Stretch AMD64</p>

<p>使用 docker 來執行 docker hub 上己經包好的 dump1090</p>

<pre><code>docker run --rm --it -p 8080:8080 --device=/dev/bus/usb inodes/docker-x86-rtlsdr-dump1090 --net
</code></pre>

<p>連接到 <a href="http://localhost:8080">http://localhost:8080</a> 就可以看到接收到的飛機訊號</p>

<h2 id="snap">Snap</h2>

<p>我的測試環境是 Ubuntu 16.04 Xenial AMD64</p>

<p>安裝 adsb-box 並連接 snap interface。最後重新啟動服務</p>

<pre><code>sudo snap install --beta adsb-box

sudo snap connect adsb-box:raw-usb
sudo snap connect adsb-box:process-control
sudo snap connect adsb-box:system-observe
sudo snap connect adsb-box:network-observe
sudo systemctl restart snap.adsb-box.dump1090.service
sudo systemctl restart snap.adsb-box.piaware.service
</code></pre>

<p>連接到 <a href="http://localhost:8080">http://localhost:8080</a> 就可以看到接收到的飛機訊號</p>

<p>[1] <a href="http://www.anws.gov.tw/cht/index.php?code=list&amp;ids=25">飛航服務總臺 &gt; 設施介紹 &gt; 監視裝備</a></p>

<p>[2] <a href="https://github.com/tsunghanliu/adsb-box.snap">https://github.com/tsunghanliu/adsb-box.snap</a></p>

<p>[3] <a href="https://github.com/mutability/dump1090">https://github.com/mutability/dump1090</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2017-07-01-must-have-gnome-extensions/">推薦 gnome extensions</a>
      </h1>
      <span class="post-date">Jul 1, 2017 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <p>Ubuntu 將在 17.10 切換到 Gnome Desktop。其實我覺得 Ubuntu Unity 的 UI 設計是很不錯的，簡潔又不失功能性。Gnome 3 的預設版型我反倒不這麼喜歡。</p>

<p>關於 Gnome Shell 的設計文件：<a href="https://wiki.gnome.org/Projects/GnomeShell/Design/">Projects/GnomeShell/Design - GNOME Wiki!</a></p>

<p>不過使用者可以透過 gnome extensions 來改造自己的 UI。以下介紹 4 個我個人必裝的 gnome extensions：</p>

<ul>
<li>Dash to Dock: <a href="https://extensions.gnome.org/extension/307/dash-to-dock/">https://extensions.gnome.org/extension/307/dash-to-dock/</a>

<ul>
<li>安裝的首選。建議安裝完以後，再更改 extension 設定</li>
<li>[Position and size] -&gt; Position on screen: Left</li>
<li>[Position and size] -&gt; Panel mode: extend to the screen edge</li>
<li>[Behavior] -&gt; Show Application icon</li>
</ul></li>
<li>TopIcons Plus: <a href="https://extensions.gnome.org/extension/1031/topicons/">https://extensions.gnome.org/extension/1031/topicons/</a>

<ul>
<li>讓 legacy tray icons (bottom left of Gnome Shell) 出現在 Top Bar。</li>
<li>#LegacyTrayIcon出現在左下角真的很惱人</li>
</ul></li>
<li>Battery Percentage: <a href="https://extensions.gnome.org/extension/818/battery-percentage/">https://extensions.gnome.org/extension/818/battery-percentage/</a>

<ul>
<li>筆電上希望看到電量</li>
</ul></li>
<li>Status Title Bar <a href="https://extensions.gnome.org/extension/59/status-title-bar/">https://extensions.gnome.org/extension/59/status-title-bar/</a>

<ul>
<li>類 unity 設計，讓視窗標題 統一在 Top bar</li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-09-23-905130/">How cloud-init systemd service is activated on Ubuntu 16.04 (xenial)</a>
      </h1>
      <span class="post-date">Sep 23, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <p>Recently I&rsquo;ve trace how cloud-init is being run. First, I try to find service file in /etc/system/system or /lib/systemd/system. Although I can locate the unit files, I can&rsquo;t see any systemd target that will bring up these cloud-init services. I did&rsquo;t see how cloud-init.target is activated by systemd.</p>

<p>Finally, I found that cloud-init project utilize the systemd generator to generate the unit files dynamically. The dynamic unit files is located at /run/system/generator.early/multi-user.target.wants/cloud-init.target. With this unit file, when the multi-user.target is activated by systemd, the cloud-init.target will also be activated. Then the systemd will further activate related cloud-init service in /etc/systemd/system/cloud-init.target.wants/.</p>

<p>Below is the dynamic unit file.</p>

<pre><code class="language-bash">$ ll /run/systemd/generator.early/multi-user.target.wants/cloud-init.target
lrwxrwxrwx 1 root root 37 Jul 14 07:52 /run/systemd/generator.early/multi-user.target.wants/cloud-init.target -&gt; /lib/systemd/system/cloud-init.target
</code></pre>

<p>If I want to disable cloud-init, there are several ways to do it.
1. Mask the default cloud-init systemd generator.</p>

<pre><code class="language-bash">ln -sf /dev/null /etc/systemd/system-generator/cloud-init-generator
</code></pre>

<ol>
<li>Add kernel parameter cloud-init=disabled or touch /etc/cloud/cloud-init.disabled. This kernel parameter will be processed by cloud-init systemd generator. See <a href="http://bazaar.launchpad.net/~cloud-init-dev/cloud-init/trunk/view/head:/systemd/cloud-init.target">http://bazaar.launchpad.net/~cloud-init-dev/cloud-init/trunk/view/head:/systemd/cloud-init.target</a></li>
</ol>

<p>Ref: <a href="https://www.freedesktop.org/software/systemd/man/systemd.generator.html">https://www.freedesktop.org/software/systemd/man/systemd.generator.html</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-08-16-use-snapper-to-travel-back-in-time-and-compare-the-ultimate-snapshot-tool-for-linux/">use snapper to Travel back in time and compare (The ultimate snapshot tool for Linux)</a>
      </h1>
      <span class="post-date">Aug 16, 2016 &middot; 2 minute read
      
      <br/>
      
      </span>
      
      <p><a href="http://snapper.io/">Snapper</a> is a great tool for making snapshot on linux. You can download it on ArchLinux/Debian/OpenSUSE/Ubuntu</p>

<p>Personally I use btrfs as  underlying file system. Here are some basic command to snapshot my data.</p>

<pre><code># install snapper
sudo apt install -y snapper

# Suppose /dev/sda3 is formatted as btrfs file system.
# mount the file system
sudo mount /dev/sda3 /mnt

# create a btrfs subvolme &quot;data&quot;
sudo btrfs subvolume create /mnt/data
# unmount /dev/sda3
sudo umount /mnt

# mount only the subvolume &quot;data&quot;, instead of whole file system
sudo mount -o subvol=data /dev/sda3 /data

# create the snapper config for &quot;/data&quot; folder. The config name could be anything, here I choose &quot;data&quot;
sudo snapper -c data create-config /data

# By default, the snapper will make a snapshot per hour, just like Mac OS's Time machine.
# Check the snapshot list
# sudo snapper -c data list 
Type   | #    | Pre # | Date                            | User | Cleanup  | Description | Userdata
-------+------+-------+---------------------------------+------+----------+-------------+---------
single | 1 |       | Tue 16 Aug 2016 09:17:02 AM CST | root | timeline | timeline    |         
single | 2 |       | Tue 16 Aug 2016 10:17:02 AM CST | root | timeline | timeline    |         
single | 3 |       | Tue 16 Aug 2016 11:17:03 AM CST | root | timeline | timeline    |         
single | 4 |       | Tue 16 Aug 2016 12:17:03 PM CST | root | timeline | timeline    |      

# In fact, you can find the underlying snapshot in &quot;data&quot; subvolume
sudo mount /dev/sda3 /mnt
ls -al /mnt/data/.snapshots/
drwxr-x--- 1 root root 230 Aug 16 12:17 ./
drwxr-xr-x 1 root root 340 Aug 15 10:47 ../
drwxr-xr-x 1 root root  32 Aug 16 09:17 1/
drwxr-xr-x 1 root root  32 Aug 16 10:17 2/
drwxr-xr-x 1 root root  32 Aug 16 11:17 3/
drwxr-xr-x 1 root root  32 Aug 16 12:17 4/
</code></pre>

<p>If your root file system is also a btrfs subvolume. That would be even better. You can snapshot your whole system!</p>

<pre><code>sudo snapper -c root create-config /
</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-08-14-lxd-container-getting-started/">LXD container Getting Started</a>
      </h1>
      <span class="post-date">Aug 14, 2016 &middot; 2 minute read
      
      <br/>
      
      </span>
      
      <p>Below I give some simple command to run a ubuntu:16.04 lxd container. LXD container is fast, very efficient, very low-footprint virtual machine. I recommend people who didn&rsquo;t need low-level system control (such as disk, loopback device) give it a try. I think this kind of lightweight virtual machine would benefit people who study machine learning or similar scientific computing.</p>

<pre><code># check current status of lxd. If you install lxd the first time, it should containing no virtual machines.
lxc list

# if my-ubuntu virtual machine not exist yet.
lxc launch ubuntu:16.04 my-ubuntu
# if my-ubuntu virtual machine already exist.
lxc start my-ubuntu

# check status of my-ubuntu virtual machine
lxc list

# login to root account
lxc exec first -- /bin/bash
# or login to ubuntu account
lxc exec first -- /bin/su - ubuntu

# stop the virtual machine
lxc stop my-ubuntu

# you can even copy virtual machine
lxc copy my-ubuntu my-ubuntu2
# or rename it
lxc mv my-ubuntu stanley-ubuntu
lxc mv stanley-ubuntu my-ubuntu

# delete my-ubuntu virtual machine
lxc delete my-ubuntu

# check my-ubuntu is deleted
lxc list
</code></pre>

<p>Varies images is provided by Canonical in <a href="http://images.linuxcontainers.org/">http://images.linuxcontainers.org/</a></p>

<p>Note that lxd has some limitaions. Such as you can&rsquo;t
- setup loopback device
- mount fuse file system
- have bridged network.
- load/remove kernel module
&hellip;
(But if you choose to run a priviledged lxd virtual machine, some limitations might not exist anymore. But I haven&rsquo;t dig into it currently.)</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-07-06-763254/">Build Debian/Ubuntu LiveCD</a>
      </h1>
      <span class="post-date">Jul 6, 2016 &middot; 2 minute read
      
      <br/>
      
      </span>
      
      

<p>Note that this article introduces how to build Debian/Ubuntu LiveCD iso image from scratch. With this method, you have great flexibility to customize the LiveCD.</p>

<p>However, if you only want to customize the LiveCD a little bit. Such as adding some packages for installation, or changing the preseed configuration, you can refer to <a href="https://wiki.debian.org/DebianCustomCD">DebianCustomCD</a>, <a href="https://wiki.debian.org/Simple-CDD/Howto">Simple-CDD</a> and <a href="https://help.ubuntu.com/community/LiveCDCustomization">LiveCDCustomization</a></p>

<h2 id="debian-jessie">Debian Jessie</h2>

<pre><code># within Debian jessie
git clone git://anonscm.debian.org/git/debian-live/live-build.git
cd live-build
git checkout debian/4.0.5-1
dpkg-buildpackage -b -uc -us
cd ..
sudo dpkg -i live-build_4.0.5-1_all.deb

sudo apt-get install -y live-images
cp -r /usr/share/live/images/standard .
cd standard/
lb config --source false # optional, would be faster if not build source
sudo lb build
# here we got live-image-amd64.hybrid.iso, about 417MB
# refer to http://cdimage.debian.org/mirror/cdimage/archive/8.6.0-live/amd64/iso-hybrid/debian-live-8.6.0-amd64-standard.iso.log for more information
</code></pre>

<h2 id="ubuntu-xenial-16-04">Ubuntu Xenial 16.04</h2>

<h3 id="automatically-build-with-ubuntu-defaults-builder">Automatically build with ubuntu-defaults-builder</h3>

<pre><code>sudo apt install -y ubuntu-defaults-builder
sudo apt install -y syslinux-utils
ubuntu-defaults-template myconfig
cd myconfig/
dpkg-buildpackage
cd ../
ubuntu-defaults-image --package myconfig_0.1_all.deb --components main,restricted,universe,multiverse

# here we got binary.hybrid.iso and livecd.ubuntu.iso
</code></pre>

<h3 id="build-with-ubuntu-cdimage">build with ubuntu-cdimage</h3>

<pre><code>TODO:
</code></pre>

<h3 id="manually-build-with-live-build-not-working-right-now-might-need-hooks-to-allow-booting">Manually build with live-build (Not working right now, might need hooks to allow booting)</h3>

<pre><code># First, set up the build tools and workspace.
# The scripts require that you work in /build

sudo apt-get install -y genisoimage syslinux-utils # tools for generate ISO image
sudo apt-get install -y memtest86+ syslinux syslinux-themes-ubuntu-xenial gfxboot-theme-ubuntu

sudo -i
apt-get install -y livecd-rootfs
mkdir -p /build/chroot
cd /build
cp -a /usr/share/livecd-rootfs/live-build/auto .

# All the hard work is done with live-build (lb command)
# and we have to configure it with environment variables

export SUITE=xenial
export ARCH=amd64
export PROJECT=ubuntu
export MIRROR=http://archive.ubuntu.com/ubuntu/
export BINARYFORMAT=iso-hybrid
export LB_SYSLINUX_THEME=ubuntu-xenial

# Now we can have live-build set up the workspace

lb config --initramfs-compression=gzip 

# And finally, start the build

lb build
</code></pre>

<p>Ref:
[1] <a href="https://code.launchpad.net/~semiosis/livecd-rootfs/fix-for-1565985/+merge/298305/comments/768010">https://code.launchpad.net/~semiosis/livecd-rootfs/fix-for-1565985/+merge/298305/comments/768010</a>
[2] <a href="https://lists.ubuntu.com/archives/ubuntu-devel/2011-June/033458.html">Ubuntu live filesystem builds moved to live-build</a>
[3] <a href="https://wiki.ubuntu.com/DesktopTeam/Specs/Oneiric/LocalizedCDImageTools">LocalizedCDImageTools - Ubuntu Wiki</a>
[4] <a href="http://summit.ubuntu.com/uos-1411/meeting/22380/development-1411-iso-l10n-uefi/">ISO with l10 preloaded for LoCo + UEFI</a>
[5] <a href="https://wiki.ubuntu.com/UbuntuStudio/Seeds">UbuntuStudio/Seeds - Ubuntu Wiki</a>
[6] <a href="https://docs.google.com/document/d/1RPPF14h1Sw2gQjGTuZjUIlNHnGrafS8ekhFjJM9MT00/edit#">Building large-scale Ubuntu derivatives using seeds - Google Docs
</a>
[7] <a href="https://wiki.ubuntu.com/ReleaseTeam/CDImageSetup">ReleaseTeam/CDImageSetup - Ubuntu Wiki</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-03-31-pudb-python-debugging-tool-a-full-screen-console-based-python-debugger/">PuDB Python Debugging Tool. A full-screen, console-based Python debugger</a>
      </h1>
      <span class="post-date">Mar 31, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <p>I highly recommened pudb, which is a full-screen, console-based visual debugger for Python. The user-interface is nicely designed for python developers.</p>

<p>Here is an example debugging a simple python script:
<a href="http://heather.cs.ucdavis.edu/~matloff/pudb.html">Introduction to the PuDB Python Debugging Tool
</a></p>

<p>Also, another great tutorial is from Jordi Gutiérrez Hermoso.
<a href="https://www.youtube.com/watch?v=IEXx-AQLOBk">Montreal, QC, September 14, 2015 - Jordi Gutiérrez Hermoso presents PuDB, a full-screen, console-based visual debugger for Python.</a>
An interesting comment from the speaker:
&gt; Everyone should use a debugger
&gt; &hellip;
&gt;
&gt; But If pdb is the only debugger you&rsquo;ve every seen, I won&rsquo;t blame you not using a debugger
&gt;
&gt; &hellip;
&gt; because the debugger is ugly, not because the source code is ugly</p>

<p>To install pudb on Debian/Ubuntu, you can use apt-get to install the package</p>

<pre><code class="language-bash"># for python 2
sudo apt-get -y python-pudb
# for python 3
sudo apt-get -y python3-pudb

# pudb is even better when debugging with ipython
# so that's install ipython
sudo apt-get install ipython
</code></pre>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-03-26-how-to-prevent-linux-from-waking-up-due-to-usb-devices/">How to prevent Linux from waking up due to USB devices</a>
      </h1>
      <span class="post-date">Mar 26, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <p>最近換了一台工作機，但我發現在 Ubuntu 14.04.3 上，有時候會休眠失敗。
在失敗的時候，機器有 suspend 成功，但是過2秒後機器就會自動醒來。查看了 /var/log/kern.log, /var/log/syslog, /var/log/pm-suspend.log 沒有太異常的訊息。後來上網查了一下，這可能是有 BIOS 有問題或 device 不正常運作。</p>

<p>在 /proc/acpi/wakeup 中，列出了數種 wakeup event, 以下面的表來說，代表了機器開放了 EHC1, EHC2, PWRB, LID0 這幾種 wakeup event</p>

<pre><code>RP06      S4    *disabled
PXSX      S4    *disabled
RP07      S4    *disabled
PXSX      S4    *disabled
EHC1      S0    *enabled   pci:0000:00:1d.0
EHC2      S4    *enabled  pci:0000:00:1a.0
PWRB      S4    *enabled   platform:PNP0C0C:00
LID0      S4    *enabled   platform:PNP0C0D:00
</code></pre>

<p>試著開關 wakeup trigger 來找出問題</p>

<pre><code class="language-bash"># ignore XHC device wakeup event
echo &quot;XHC&quot; &gt; /proc/acpi/wakeup
# try suspend, still failed

# ignore EHC1 device wakeup event
echo &quot;EHC1&quot; &gt; /proc/acpi/wakeup
# try suspend, still failed

# ignore EHC1 device wakeup event
echo &quot;EHC2&quot; &gt; /proc/acpi/wakeup
# try suspend. Bingo!! It suspend successfully!
</code></pre>

<p>發現只要關閉 EHC2 wakeup trigger, 機器就能正常 suspend。可以放罝一個 upstart script，讓每次開機時，都自動關閉 EHC2 wakeup trigger</p>

<pre><code># /etc/init/disable-EHC2.conf
start on started dbus
stop on stopping dbus

script
   sudo -u root sh -c &quot;echo 'EHC2' &gt; /proc/acpi/wakeup&quot;
end script
</code></pre>

<p>Ref:
- <a href="http://askubuntu.com/questions/479254/ubuntu-14-04-wake-up-immediately-after-suspend">Ubuntu 14.04 wake up immediately after suspend - Ask Ubuntu</a>
- <a href="https://wiki.ubuntu.com/UnderstandingSuspend">UnderstandingSuspend - Ubuntu Wiki</a>
- <a href="https://wiki.archlinux.org/index.php/Power_management/Suspend_and_hibernate#Instantaneous_wakeups_from_suspend">Power management/Suspend and hibernate - ArchWiki</a>
- <a href="http://linux.die.net/man/1/acpitool">acpitool(1) - Linux man page</a>
- <a href="https://01.org/blogs/rzhang/2015/best-practice-debug-linux-suspend/hibernate-issues">Best practice to debug Linux* suspend/hibernate issues | 01.org</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://swem.github.io/post/2016-03-15-alphago-is-not-the-solution-to-ai/">AlphaGo is not the solution to AI</a>
      </h1>
      <span class="post-date">Mar 15, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <blockquote>
<p>Addressing global exploration effectively is only one of the significant challenges between what is well known now and what needs to be addressed for what I would consider a real AI.</p>
</blockquote>

<p>Ref: <a href="http://hunch.net/?p=3692542">AlphaGo is not the solution to AI</a></p>

      
    </div>
    
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    class="disabled">
    <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
     
        
        
    
    
    <li
    class="active"><a href="/">1</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/10/">10</a></li>
    
    
    <li
    >
    <a href="/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/10/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>


<script src="https://swem.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

