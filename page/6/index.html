<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="Chen-Han (Stanley) Hsiao">
    
    <meta property="og:type" content="website">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="https://swem.github.io/">
    <meta property="og:site_name" content="Chen-Han (Stanley) Hsiao">
    
    <meta name="generator" content="Hugo 0.22.1" />
    <title>Chen-Han (Stanley) Hsiao &middot; Chen-Han (Stanley) Hsiao</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://swem.github.io/css/style.css">
    
    <link href="https://swem.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Chen-Han (Stanley) Hsiao" />
    
    
    <link rel="icon" href="https://swem.github.io/favicon.ico" />
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://swem.github.io/">Chen-Han (Stanley) Hsiao</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://swem.github.io/about">About</a></li>
				
					<li><a href="https://swem.github.io/post">Post</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://swem.github.io/">Chen-Han (Stanley) Hsiao</a></h1>
		
		
		
			<small class="text-center center-block">Tech Blog</small>
		
		
		
			<img id="profile-pic" src="https://swem.github.io//img/profile.png" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://github.com/swem"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://www.linkedin.com/in/chen-han-hsiao-2b486049"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://plus.google.com/u/0/115154486338673377998"><i class="fa fa-google-plus fa-2x"></i></a>
			

			
		</div>
		<div id="links" class="text-center">
			
			
				<a href="https://swem.github.io/about">About</a>
			
				<a href="https://swem.github.io/post">Post</a>
			
		</div>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">

<header>
	
	
		<h1> </h1>
	
</header>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-02-17-news-the-word-deadlock/">新聞出現 deadlock 這個詞</a>
			<br>
			<small>
				2014-02-17
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p>第一次新聞看到 deadlock 這個詞
<a href="http://www.nytimes.com/2014/02/17/world/middleeast/syria.html">Kerry Blames Syrian Government for Deadlocked Talks</a></p>

<p>查了一下發現其實在歐美新聞中，這個詞不算少用。像是：<a href="http://www.bloomberg.com/news/2013-10-01/government-shutdown-begins-as-deadlocked-congress-flails.html">Government Shutdown Begins as Deadlocked Congress Flails</a>，<a href="http://www.foxnews.com/world/2013/11/23/compromise-breaks-deadlock-at-un-climate-talks/">Compromise breaks deadlock at UN climate talks</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-02-14-understanding-javascript-delete/">Understanding Javascript Delete</a>
			<br>
			<small>
				2014-02-14
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p><a href="http://perfectionkills.com/understanding-delete/">Understanding delete</a>
這篇文章討論 Javascript 的 delete 行為，並且釐清一些常見的誤解。全文很長，最後總結是精華，我把它整理翻譯後分享出來如下。</p>

<ul>
<li>變數跟函式宣告都是屬性。他們會是Activation Object(啟動物件)的屬性。或是Global Object(全域物件)的屬性。</li>
<li>屬性具有 attributes (像是 ReadOnly, DontEnum, DontDelete and Internal，可視為一種旗標)。其中 DontDelete 是負責表示這項屬性可否被刪除的 attribute</li>
<li>不管在全域或是函式作用域中，變數與函式宣告總是具有 DontDelete</li>
<li>函式參數是 Activation Object 的屬性，具有 DontDelete</li>
<li>Eval code 裡的變數、函式宣告不具有 DontDelete</li>
<li>由配值(assignment)產出的屬性一定沒有任何 attributes ，也就不會有 DontDelete</li>
<li>host 物件對 delete 的反應是無法預料的，他們想回應 true 或 false 都行</li>
</ul>

<p>如果想更進一步了解，可以查閱 <a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf">ECMA-262 3rd edition specification</a>.</p>

<p>其它相關Reference Link:
<a href="http://stackoverflow.com/questions/1596782/how-to-unset-a-javascript-variable">stackoverflow - How to unset a Javascript variable?</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-02-12-10-things-we-forgot-to-monitor/">10項系統監控</a>
			<br>
			<small>
				2014-02-12
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p><a href="http://word.bitly.com/post/74839060954/ten-things-to-monitor">10 Things We Forgot to Monitor</a>
在做系統監控時，我們常想到Disk Usage, Memory Usage, CPU Load, Ping latency。<a href="https://bitly.com/">bitly</a>的工程師 Jehiah 分享10項有用但平常少提及的系統監控項目，有些項目甚至附上了 script 供 Devops 參考。</p>

<ol>
<li>Fork Rate

<ul>
<li>異常的 Fork Rate 可能表示系統設置有問題。作者舉了一個例子，某次系統設置錯誤， curl 不斷觸發 modprobe</li>
</ul></li>
<li>flow control packets

<ul>
<li>確定網路流量管控機制的設定不會使得系統在某一時刻停止接受封包</li>
</ul></li>
<li>Swap in/out rate

<ul>
<li>藉由記錄 <a href="http://en.wikipedia.org/wiki/Vmstat">vmstat</a> 的數據, 推算 swap in/out rate，確定系統流暢</li>
</ul></li>
<li>Server Boot Notification

<ul>
<li>系統重開機時，寄email給管理員</li>
</ul></li>
<li>NTP Clock Offset

<ul>
<li>確定 ntpd 在背景執行，並且記錄機器時鐘誤差，以及機房時間伺服器與外部的時鐘誤差</li>
</ul></li>
<li>DNS Resolutions

<ul>
<li>監控內部 DNS Resolutions 狀態，也監控外部 nameserver 的穩定性</li>
</ul></li>
<li>SSL Expiration

<ul>
<li>在 SSL 快過期前發出通知</li>
</ul></li>
<li>DELL OpenManage Server Administrator (OMSA)

<ul>
<li>購買硬體伺服器所需做的監控</li>
</ul></li>
<li>Connection Limits

<ul>
<li>了解系統並確定限制連線設定符合需求，作者這邊給的限制是 65536</li>
</ul></li>
<li>Load Balancer Status.

<ul>
<li>Load Balancer health check</li>
</ul></li>
</ol>

<p>附註：看到 Hacker News 推文中有人另外列出一個也滿值得監控的數值： file descriptors 的最大數量</p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-02-07-mutex-vs-spinlock/">Mutex VS Spinlock</a>
			<br>
			<small>
				2014-02-07
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p>這篇發問的最佳回答 <a href="http://stackoverflow.com/questions/5869825/when-should-one-use-a-spinlock-instead-of-mutex">When should one use a spinlock instead of mutex?</a> 說明了 mutex 與 spinlock 的不同。
mutex 的機制是當 process 無法鎖定 mutex 時，process 會進入 sleep，中間會需要付出 context switch 的代價。spinlock 的機制是採用 busy-waiting，直到鎖定 spinlock 為止。
依據兩者的特性，一般來說，在單核心的系統中，會採用 mutex。而多核心，且 critical section 只耗用一小段時間的狀況下，適合使用 spinlock。<br />
解答者 Mecki 還補充了實務上的狀況。由於要預期應用情境下的 lock 狀況相當困難，現代的作業系統中也加入一些機制增加彈性，發展出了 hybrid mutex, hybrid spinlock。當 process 無法鎖住 hybrid mutex 時，作業系統不會馬上讓 process 進入睡眠，而是以類似 spinlock 的方式 busy-waiting 一小段時間，確定真的無法鎖住 hybrid mutex，才讓 process 進入睡眠。而當 process 無法鎖住 hybrid spinlock 時，作業系統會允許 process 進行 busy-waiting。但超過某個時間限制，則會讓 process 進入睡眠，讓其它 thread 運作。</p>

<p><a href="http://www.alexonlinux.com/pthread-mutex-vs-pthread-spinlock">pthread mutex vs pthread spinlock</a> 這篇文章則是給出實作，實際表現出在多核環境，且critical section佔用極小時間的情況下，pthread spinlock 的表現優於 pthread mutex</p>

<p>More Link: <a href="http://orzlab.blogspot.tw/2007/03/mutex.html">Jserv - Mutex與火車排班</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-02-04-the-magic-of-strace/">The Magic of Strace</a>
			<br>
			<small>
				2014-02-04
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p>過年讀了這篇 <a href="http://chadfowler.com/blog/2014/01/26/the-magic-of-strace/">The Magic of Strace</a> ，裡面介紹了使用 strace 來追蹤 unix 下的程序使用 system call 的運作情況。觀察 process 對 system call 的呼叫，包括 file read/write, database read/write, Inter-process communication，可以找出其中出現的 bug, error 。對於某些很難重現的錯誤，可以藉由 strace 進行 log 。下次在 unix 上多個工具可以試試了。</p>

<p>updata: <a href="http://jvns.ca/blog/2013/12/22/fun-with-strace/">Understanding how killall works using strace</a> 這篇文章也很有意思，利用 strace 去追蹤 killall 的流程。<br />
首先 killall 爬過所有 process 的 stat (/proc/$PID/stat)，找到相同的 process name 就把 PID 送進 kill system call。<br />
最後底下推文回應還提到了 ltrace，可用來追蹤 library call，以及一份關於 /proc 的文件 <a href="https://www.kernel.org/doc/Documentation/filesystems/proc.txt">THE /proc FILESYSTEM</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-01-30-mutexes-and-semaphores-demystified/">Mutexes VS Semaphores 大揭秘</a>
			<br>
			<small>
				2014-01-30
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p>尋著 jserv 的文章，找到了這一篇文章 <a href="http://www.barrgroup.com/Embedded-Systems/How-To/RTOS-Mutex-Semaphore">Mutexes and Semaphores Demystified</a> 。</p>

<p>Mutex 與 Semaphore 都是用在保護 critical section，確保多個 process 平行運作並存取資源時，執行結果不會因為執行程序的時間先後的影響而導致錯誤。
Mutex(Mutual Exclusion) 與 Semaphore 的差別在於:
1. process 使用 mutex 時，process 的運作是持有 Mutex，執行critical section 來存取資源，然後釋放 Mutex. Mutex 就像是資源的一把鎖。
2. process 使用 semaphore 時，process 總是發出信號(signal)，或者總是接收信號(wait)，同一個 process 不會先後進行 signal 與 wait。也就是說，process 要嘛當 producer，要嘛當 consumer，不能兩者都是。Semaphore 是為了保護 process 的執行同步性。</p>

<p>Mutex 與 Semaphore 要解決的是不同的問題。了解這個部份後，就可以來區分 mutex 與 binary semaphore。mutex 確保數個 process 在一個時間點上，只能有一個 process 存取單項資源，而 semaphore 則是讓數個 producer 與 數個 consumer 在訊號上進行合作。</p>

<p>另一個 mutex 與 binary semaphore 的差異在於，使用 mutex 會導致 priority inversion。也因此 mutex 中多半採用了一些機制來防止 <a href="http://www.barrgroup.com/Embedded-Systems/How-To/RTOS-Priority-Inversion">Priority Inversion</a>。Priority Inversion 是基於 process 持有 mutex 的概念，使得數個不同 priority 的 process ，在等待資源時透過 mutex 傳遞 priority，避免 priority inversion 發生。</p>

<p>註：Mutex與Semaphore在很多書、文章中都有很多不同的解釋。我認為這篇文章談的是最嚴格定義的 Semaphore (Dijkstra 所提出)，因此兩者有相當不同的區分。而後衍生出的 semaphore ，則包含了 counting semaphore 與 binary semaphore，也才能夠用於保護資源，或是處理 multiple identical resources 的問題。</p>

<p>Other Link:<br />
- <a href="http://stackoverflow.com/questions/62814/difference-between-binary-semaphore-and-mutex">Difference between binary semaphore and mutex</a>
- <a href="http://en.wikipedia.org/wiki/Semaphore_(programming)#Example:_Producer.2Fconsumer_problem">Wikipedia: Example: Producer/consumer problem</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-01-21-what-every-programmer-should-know-about-c-undefined-behavior/">每個C語言開發者都要了解的 Undefined Behavior</a>
			<br>
			<small>
				2014-01-21
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p>在閱讀LLVM 部落格中的 <a href="http://blog.llvm.org/2011/05/what-every-c-programmer-should-know.html">What Every C Programmer Should Know About Undefined Behavior #<sup>1</sup>&frasl;<sub>3</sub></a> 後，決定簡短的記錄這系列文章的重點並且在seminar上分享出來。我認為這篇文章是C語言開發者在開發一段時間後必讀的文章。文章中提到許多的 undefined behavior 是很容易犯的錯。這之中牽涉到 compiler 進行的最佳化，使得撰寫C語言時必須注意一些細節，才能避免在最佳化的過程中，產生與預期不相同的執行結果。</p>

<p><iframe src="//www.slideshare.net/slideshow/embed_code/36318298" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px 1px 0; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="https://www.slideshare.net/ssusercd43c4/2014-0626-a-guide-to-undefined-behavior-in-c-and-c-stanley" title="2014-06-26 - A guide to undefined behavior in c and c++" target="_blank">2014-06-26 - A guide to undefined behavior in c and c++</a> </strong> from <strong><a href="http://www.slideshare.net/ssusercd43c4" target="_blank">辰翰 蕭</a></strong> </div></p>

<p>如果需要中文翻譯的讀者，已有中國網友翻譯，可參考以下文章
1. <a href="http://sohulinux.blog.sohu.com/176185110.html">未定义行为：What Every C Programmer Should Know #<sup>1</sup>&frasl;<sub>3</sub></a>
2. <a href="http://sohulinux.blog.sohu.com/176211282.html">未定义行为：What Every C Programmer Should Know #<sup>2</sup>&frasl;<sub>3</sub></a>
3. <a href="http://sohulinux.blog.sohu.com/176282266.html">未定义行为：What Every C Programmer Should Know #<sup>3</sup>&frasl;<sub>3</sub></a>
4. <a href="http://www.cnblogs.com/foohack/p/3582239.html">About Undefined Behavior[译文]</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-01-20-kaggle-playing/">kaggle 試玩</a>
			<br>
			<small>
				2014-01-20
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p><a href="https://www.kaggle.com/">Kaggle</a>，是machine learning 的 crowd-sourcing網站。有需要的公司可以在上面提出專案，讓大家去解，通常會給獎金，甚至是一份工作。已經在上面提出專案的包括</p>

<ol>
<li>Amazon，獎金$5000，<a href="https://www.kaggle.com/c/amazon-employee-access-challenge">Amazon.com - Employee Access Challenge</a></li>
<li>Facebook，一份工作，<a href="https://www.kaggle.com/c/FacebookRecruiting">Facebook Recruiting Competition</a>、<a href="https://www.kaggle.com/c/facebook-ii">Facebook II - Mapping the Internet</a>、<a href="https://www.kaggle.com/c/facebook-recruiting-iii-keyword-extraction">Facebook Recruiting III - Keyword Extraction</a></li>
<li>StumbleUpon，獎金$5000，<a href="https://www.kaggle.com/c/stumbleupon">StumbleUpon Evergreen Classification Challenge</a></li>
</ol>

<p>以前在學校時上過 Machine Learning 的課，而 kaggle 提供了很棒的資源讓大家接觸更大規模的資料。這2周試玩 <a href="https://www.kaggle.com/">Kaggle</a>，我先做了由 kaggle 所提供範例。<br />
<a href="https://www.kaggle.com/c/titanic-gettingStarted">Titanic: Machine Learning from Disaster</a> 這個練習有很詳細的說明，教大家使用 excel 做最基本的資料分析，或是改用 python 寫最基本的運算。最後是用 random forest 這項演算法來做機器學習。初學者從這項練習可以了解到進行機器學習時會遇到的狀況。</p>

<p><a href="https://www.kaggle.com/wiki/GettingStartedWithPythonForDataScience">https://www.kaggle.com/wiki/GettingStartedWithPythonForDataScience</a></p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-01-20-operating-systems-three-easy-pieces/">Operating Systems: Three Easy Pieces</a>
			<br>
			<small>
				2014-01-20
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p><a href="http://pages.cs.wisc.edu/~remzi/OSTEP/">Operating Systems: Three Easy Pieces</a>
剛翻到這本線上作業系統書，他的表格整理的很不錯。把作業系統的功能規類到 Virtualization, Concurrency, Persistence。把這些小分類的名詞弄懂了，也大致能了解作業系統的作用了。</p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://swem.github.io/post/2014-01-16-kimono-turn-websites-into-structured-apis/">kimono Turn websites into structured APIs</a>
			<br>
			<small>
				2014-01-16
			</small>
		</h3>
	</div>
	<div class="panel-body">
		<p><a href="http://www.kimonolabs.com/">kimono : Turn websites into structured APIs from your browser in seconds</a>
<iframe src="//player.vimeo.com/video/82849382?title=0&amp;byline=0&amp;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/82849382">kimono: a 60 second introduction</a> from <a href="http://vimeo.com/user23724399">Kimono Labs</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
今天看到這東西滿酷的。過去我們需要撈網站資訊時，常要自已動手做爬蟲、再做成API。以前氣象局還沒有<a href="http://opendata.cwb.gov.tw/">開放資料平臺</a>時，想做氣象app的人就等自已想辦法做API來餵。像是這個我送過小patch的專案 <a href="https://github.com/zonble/twweather">twweather</a>。<br />
而<a href="http://www.kimonolabs.com/">kimono</a> 把這個過程變的相當簡單。不過這種東西會面臨到一個問題，就是內容來源始終是別人提供的，所以一旦 html 格式改了(像是以前氣象局常大改格式)，data extraction就得重做(當然在kimono上看起來相對簡單)。但我覺得最好的方式還是能想辦法找來源提供者合作，如果是公家機關就要要求開放資料，如果是商業機關就談商業授權，能夠由來源提供穩定一致的API還是最好的解決方式。</p>

	</div>
	<div class="panel-footer">
		
	</div>
</div>



<div class="text-center center-block">
	

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/5/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/5/">5</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    class="active"><a href="/page/6/">6</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/7/">7</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/10/">10</a></li>
    
    
    <li
    >
    <a href="/page/7/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/10/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

</div>

						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="https://swem.github.io//js/App.js"></script>
  
</body>
</html>
