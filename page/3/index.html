<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="ChenHan&#39;s blog">
    
    <meta property="og:type" content="website">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="https://chenhan1218.github.io/">
    <meta property="og:site_name" content="ChenHan&#39;s blog">
    
    <meta name="generator" content="Hugo 0.40.1" />
    <title>ChenHan&#39;s blog &middot; ChenHan&#39;s blog</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://chenhan1218.github.io/css/style.css">
    
    <link href="https://chenhan1218.github.io/index.xml" rel="alternate" type="application/rss+xml" title="ChenHan&#39;s blog" />
    
    
    <link rel="icon" href="https://chenhan1218.github.io/favicon.ico" />
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://chenhan1218.github.io/">Chen-Han (Stanley) Hsiao</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://chenhan1218.github.io/about">About</a></li>
				
					<li><a href="https://chenhan1218.github.io/post">Post</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://chenhan1218.github.io/">Chen-Han (Stanley) Hsiao</a></h1>
		
		
		
			<small class="text-center center-block">Tech Blog</small>
		
		
		
			<img id="profile-pic" src="https://chenhan1218.github.io//img/profile.png" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://github.com/chenhan1218"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://www.linkedin.com/in/chen-han-hsiao-2b486049"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://plus.google.com/u/0/115154486338673377998"><i class="fa fa-google-plus fa-2x"></i></a>
			

			
		</div>
		<div id="links" class="text-center">
			
			
				<a href="https://chenhan1218.github.io/about">About</a>
			
				<a href="https://chenhan1218.github.io/post">Post</a>
			
		</div>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">

<header>
	
	
		<h1> </h1>
	
</header>


<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2015-07-05-bloxp-rss-to-ebook/'> bloxp, rss to ebook</a> </h2>
    <div class="post-meta">2015-07-05</div>
  </header>
  <p>今天用了一個很棒的服務，<a href="http://www.bloxp.com/">Bloxp, the blog to ebook exporter</a>，可以把 blog 透過 rss 轉成 ebook (epub)。很方便，推薦給大家。</p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2015-06-17-install-python-package-as-normal-user-without-root-priviledge/'> 一般使用者權限安裝 python package (無root 權限)</a> </h2>
    <div class="post-meta">2015-06-17</div>
  </header>
  <p>在一些工作站上，有時需要用到一些 python package，但不具有 root 權限時。Python 設定了一個方法，可以安裝在家目錄下的 .local/ 資料夾中</p>

<p><a href="https://docs.python.org/2/install/index.html#alternate-installation-the-user-scheme">Alternate installation: the user scheme — Python 2.7.10 documentatio</a></p>

<pre><code class="language-bash">python setup.py install --user
</code></pre>

<p>之後再設定 PYTHONPATH, PATH 變數即可</p>

<pre><code class="language-bash">export PYTHONPATH=$HOME/.local/lib/python2.7/site-packages:$PYTHONPATH
PATH=$PATH:$HOME/.local/bin
export PATH
</code></pre>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2015-04-25-debugging-fork-child-process-in-gdb/'> debugging fork child process in GDB</a> </h2>
    <div class="post-meta">2015-04-25</div>
  </header>
  <p>剛在 python 遇到 subprocess 的問題，處理一陣子後突然想到，如果是 C++ 的話要怎麼用 GDB 來 debug. 查了文件後發現有2個方式：</p>

<ol>
<li>讓 child sleep 一段時間，手動取得 PID 後，再讓 GDB attach 上去</li>
</ol>

<p>這個方式可以想的到，有點暴力解的感覺。看來處理 multi-process 真的沒什麼好方法。
2. 設定 follow-fork-mode</p>

<p>GDB 預設只會 attach 在 parent process 上，而不會控制 child process。但如果將 follow-fork-mode 設為 child，那在 fork() 之後，parent process 將不受 GDB 控制，只有 child process 在 GDB 的控制中。換句話說，同一時間只有一個 process 會被 attached。</p>

<pre><code class="language-bash">set follow-fork-mode parent
# The original process is debugged after a fork. The child process runs unimpeded. This is the default. 
set follow-fork-mode child
#The new process is debugged after a fork. The parent process runs unimpeded.
</code></pre>

<p>由 folow-fork-mode 還延伸出 detach-on-fork，預設值開啟代表沒被 attached 的 process 會獨立的運作。關閉代表沒被 attached 的 process 會被 suspend。</p>

<p>Ref: <a href="https://sourceware.org/gdb/onlinedocs/gdb/Forks.html">Forks - Debugging with GDB</a></p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2015-04-22-linux-kernel-development-process/'> Linux Kernel Development Process</a> </h2>
    <div class="post-meta">2015-04-22</div>
  </header>
  <p><a href="https://www.kernel.org/doc/Documentation/development-process/2.Process">kernel.org - HOW THE DEVELOPMENT PROCESS WORKS</a></p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2015-04-16-python3-unicodedecodeerror/'> python3 UnicodeDecodeError</a> </h2>
    <div class="post-meta">2015-04-16</div>
  </header>
  <p>遇到 python UnicodeDecodeError 其實有點頭大。</p>

<pre><code class="language-python">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import subprocess
import os
import sys
import locale

if __name__ == &quot;__main__&quot;:
	locale.setlocale(locale.LC_ALL, 'en_US.UTF8')
	proc = subprocess.Popen(['date'], stdout=subprocess.PIPE,
									 stderr=subprocess.PIPE,
									 stdin=subprocess.PIPE,
									 env={'LANG': 'zh_TW.UTF8', 'LANGUAGE': 'zh_TW:zh'},
									 universal_newlines=True, shell=True)
	(out, err) = proc.communicate()
	import codecs
	sys.stdout = codecs.getwriter(&quot;utf-8&quot;)(sys.stdout.detach())
	print(out)
	print(err)
</code></pre>

<pre><code class="language-bash">$ ./date.py
</code></pre>

<p>再進一步查了一下，發現這跟環境變數有關。</p>

<pre><code>$ env -i LANG='en_US.UTF8' /usr/bin/python3 -c 'import locale; print(locale.getpreferredencoding(False))'               
UTF-8
$ env -i  /usr/bin/python3 -c 'import locale; print(locale.getpreferredencoding(False))'
ANSI_X3.4-1968
</code></pre>

<p>看完這份 slides ，才比較知道 Unicode 在 Python 中較好的處理方法 <a href="http://farmdev.com/talks/unicode/">Unicode In Python, Completely Demystified</a></p>

<blockquote>
<p>Solution
1. Decode early
2. Unicode everywhere
3. Encode late</p>
</blockquote>

<p>或是類似 Ubiquity 的直接強制使用 C.UTF
<a href="http://bazaar.launchpad.net/~ubuntu-installer/ubiquity/trunk/view/head:/bin/ubiquity#L44">http://bazaar.launchpad.net/~ubuntu-installer/ubiquity/trunk/view/head:/bin/ubiquity#L44</a></p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2015-01-10-kindle-7-2014/'> kindle 7 (2014)</a> </h2>
    <div class="post-meta">2015-01-10</div>
  </header>
  <p>幾天前拿到了 Kindle 7 (2014)，基本款kindle。今年即使在最基本款也已經有 touch 功能了。這幾天用下來，確實覺得滿特別的。有一些優缺點跟大家分享</p>

<p>優點：
1. 相較一般螢幕，透過電子紙閱讀，對眼睛確實舒服很多，也確實不容易受到其它網路資訊的干擾。
2. Kindle 提供 Chrome Extension 來將網路文章 Send to Kindle，如此一來以後較長的文章都可以送到 Kindle 上來閱讀。</p>

<p>缺點：
1. Send to Kindle 的同步功能做的不是很好。當文章被 Send to Kindle 後，實際上是存到 <a href="https://www.amazon.com/clouddrive">Amazon Cloud Drive</a>，然後手上 Kindle 會自動下載一份在裝置上。但當閱讀完畢後，2邊的刪除不會同步，造成我想刪除文章必須去2個地方刪除。這點也很確實的寫在 Kindle 文件上，但這點應該是很重要需要改進的地方。 <a href="http://www.amazon.com/gp/help/customer/display.html/ref=hp_pdoc_main_short_us?nodeId=200767340">Kindle Personal Documents Service</a>
2. PDF 也可以 Send to Kindle，但提供的方式不夠好。最好的話能提供 Web 界面讓使用者上傳 PDF。另外要注意的是，Send to Kindle 會將文件轉檔為 Amazona 使用的 azw 格式，所以文件有可能格式會跑掉，如果想在Kindle 上閱讀手上PDF，可能要有心理準備會有一些小問題。(補充一下，PDF是可以直接透過 USB 傳輸線不轉檔直接存到 Kindle 上，不過一來Kindle資料夾管理看起來很麻煩，二來 Kindle 6吋大小顯示 A4 內容閱讀起來會滿辛苦的。透過 Send to kindle 轉檔雖然格式會掉，但至少是易閱讀的電子書格式。)</p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2014-12-11-docker-insight/'> Docker Insight</a> </h2>
    <div class="post-meta">2014-12-11</div>
  </header>
  <p>這幾天弄懂了 cgroup, kernel capbability 的機制，再搭配這份投影片 <a href="http://www.slideshare.net/tandrepires/docker-insight">Docker Insight</a>，有種很多東西都串起來的感覺。</p>

<p>Docker 1.2 新增的 cap-add, cap-drop，再加上 Docker 本身附有的 Volume mount，讓 container 又有了更多方便的使用方式。</p>

<p><iframe src="//www.slideshare.net/slideshow/embed_code/41750502" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/tandrepires/docker-insight" title="Docker Insight" target="_blank">Docker Insight</a> </strong> from <strong><a href="//www.slideshare.net/tandrepires" target="_blank">Tiago Pires</a></strong> </div></p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2014-12-10-qemu-advent-calendar/'> QEMU Advent Calendar (每日 QEMU)</a> </h2>
    <div class="post-meta">2014-12-10</div>
  </header>
  <p><a href="http://www.qemu-advent-calendar.org/">QEMU Advent Calendar</a> 這個project 滿有趣的，到 Chrismas 前，每天介紹一個 qemu 的image 讓大家去玩。</p>

<p>今天 Canonical 發佈實驗性的作業系統 <a href="http://www.ubuntu.com/cloud/tools/snappy">Ubuntu Core</a>， Canonical 也跟他們合作，成為今天的 QEMU Advent Calendar image.</p>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2014-11-26-backtrace-debian-package/'> backtrace debian package</a> </h2>
    <div class="post-meta">2014-11-26</div>
  </header>
  <pre><code class="language-bash">$ apt-cache search hello | grep dbg
</code></pre>

<pre><code># apt-get install hello-dbg
gdb /usr/bin/hello
</code></pre>

<ul>
<li><a href="https://wiki.debian.org/HowToGetABacktrace">HowToGetABacktrace - Debian Wiki</a></li>
</ul>

</article>

<article class="post">
  <header>
    <h2><a href='https://chenhan1218.github.io/post/2014-11-22-established-at-launchpad-ppa/'> Build a debian package and upload to Launchpad ppa</a> </h2>
    <div class="post-meta">2014-11-22</div>
  </header>
  <ol>
<li>Create Launchpad PPA at <a href="https://launchpad.net/people/+me/+activate-ppa">https://launchpad.net/people/+me/+activate-ppa</a></li>

<li><p>Creating your OpenPGP keys with gpg command</p>

<ul>
<li>Open a terminal and type:
<code>bash
gpg --gen-key
</code></li>
<li>GPG will now ask you a number of questions about the type of key you want to generate. follow the steps below to select the default option each time.</li>
<li>Check that your key has been generated by typing gpg &ndash;list-keys and, if successful.
pub 1024D/12345678 -&gt; this is the important number</li>
<li>Launchpad doesn&rsquo;t store your key directly, so you need to export your public key to a key server, such as keyserver.ubuntu.com:
<code>bash
gpg --keyserver keyserver.ubuntu.com --send-keys 12345678
Replace 12345678 with the pub id you noted in step 3.
</code>
If successful, GPG will display a message similar to:
<code>bash
gpg: sending key 12345678 to hkp server keyserver.ubuntu.com
Importing your key into Launchpad with gpg
</code></li>
</ul></li>

<li><p>Add OpenPGP key to Launchpad</p>

<ul>
<li>Launchpad identifies your OpenPGP key by its fingerprint. In your terminal, you can ask GPG for your key&rsquo;s fingerprint by typing:
<code>
gpg --fingerprint
</code>
GPG will display a message similar to:
<code>
Key fingerprint = `0464 39CD 2486 190A 2C5A  0739 0E68 04DC 16E7 CB72`
copy only the numeric fingerprint: 0464 39CD 2486 190A 2C5A 0739 0E68 04DC 16E7 CB72.
</code></li>
<li>Visit your OpenPGP key page at <a href="https://launchpad.net/people/+me/+editpgpkeys">https://launchpad.net/people/+me/+editpgpkeys</a></li>
<li>Paste the fingerprint that you copied in step 1 into the Fingerprint text-box, then click the Import Key button. Launchpad will use the fingerprint to check the Ubuntu key server for your key and, if successful, send you an encrypted email asking you to confirm the key import. (Note : this is a brief &hellip; from launchpad process&hellip;.. both process take a while so just take your time&hellip;)</li>
</ul></li>

<li><p>set ~/.devscripts</p>

<pre><code class="language-bash">DEBUILD_DPKG_BUILDPACKAGE_OPTS=&quot;-us -I -i&quot;
DEBUILD_LINTIAN_OPTS=&quot;-i -I --show-overrides&quot;
</code></pre></li>

<li><p>get source</p>

<pre><code class="language-bash">apt-get build-dep lshw
bzr lp:ubuntu/trusty/lshw
dch -v X.XtestVersion -D trusty
debuild -S
</code></pre></li>

<li><p>upload changes to launchpad&rsquo;s ppa and push code</p>

<pre><code class="language-bash">dput ppa:swem/ppa xxxxxxxxxxxxxxxxxx_source.changes
bzr push lp:~swem/totem/trunk
</code></pre></li>
</ol>

<p>Extra: Build debian package on your own machine</p>

<pre><code>pbuilder-dist trusty amd64 create
pbuilder-dist trusty amd64 build xxxxxxxxxxxxxxxxxx_source.dsc
</code></pre>

<p>Check ~/pbuilder/trusty_result/, the xxxxxxxxxxxxxxxxxx.deb should be there.</p>

<p>Ref:
- <a href="http://packaging.ubuntu.com/html/packaging-new-software.html">Ubuntu packaging guide - 6. Packaging New Software</a>
- <a href="http://packaging.ubuntu.com/html/fixing-a-bug-example.html">5. Tutorial: Fixing a bug in Ubuntu</a>
- <a href="http://failshell.io/devel/creating-ubuntu-packages-for-launchpad/">Creating Ubuntu packages for Launchpad</a>
- <a href="http://fourdollars.blogspot.tw/2009/07/deb-package-for-ubuntu-linux-launchpad_3385.html">製作 deb package for Ubuntu Linux 並且上傳至 Launchpad PPA</a>
- <a href="http://fourdollars.blogspot.tw/2012/11/launchpad-bazaar.html">淺談 Launchpad 上面的 Bazaar 分支架構</a>
- <a href="https://www.debian.org/doc/manuals/maint-guide/build.en.html">Chapter 6. Building the package</a></p>

</article>


<div class="text-center center-block">
	

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/4/">4</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/10/">10</a></li>
    
    
    <li
    >
    <a href="/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/10/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

</div>

						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="https://chenhan1218.github.io//js/App.js"></script>
  
</body>
</html>
