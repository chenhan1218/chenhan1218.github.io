<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Build a debian package and upload to Launchpad ppa  &middot; ChenHan&#39;s Tech blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Build a debian package and upload to Launchpad ppa  &middot; ChenHan&#39;s Tech blog ">
<meta property="og:site_name" content="ChenHan&#39;s Tech blog"/>
<meta property="og:url" content="https://swem.github.io/post/2014-11-22-established-at-launchpad-ppa/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2014-11-22T02:00:00Z" />
<meta property="og:article:modified_time" content="2014-11-22T02:00:00Z" />

  

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Build a debian package and upload to Launchpad ppa",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2014-11-22",
    "description": "",
    "wordCount": 378
  }
</script>



<link rel="canonical" href="https://swem.github.io/post/2014-11-22-established-at-launchpad-ppa/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://swem.github.io/touch-icon-144-precomposed.png">
<link href="https://swem.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.22.1" />

  
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://swem.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://swem.github.io/css/style.css">
<link rel="stylesheet" href="https://swem.github.io/css/highlight/default.css">

  
  
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://swem.github.io/">
  Chen-Han (Stanley) Hsiao

</a>

</div>

  
<div class="container topline">
  
  ChenHan&rsquo;s Tech blog


</div>


</div>

  <nav class="container nav primary no-print">
  


  
<a href="https://swem.github.io/about">About</a>

<a href="https://swem.github.io/post" title="Show list of posts">Posts</a>

<a href="https://swem.github.io/tags" title="Show list of tags">Tags</a>


</nav>

<div class="container nav secondary no-print">
  


<a id="contact-link-github" class="contact_link" href="https://github.com/swem">
  <span class="fa fa-github-square"></span><span>github</span></a>





<a id="contact-link-linkedin" class="contact_link" href="https://www.linkedin.com/in/chen-han-hsiao-2b486049">
  <span class="fa fa-linkedin-square"></span><span>linkedin</span></a>



















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>Build a debian package and upload to Launchpad ppa
</h1>

  <div class="metas">
<time datetime="2014-11-22">22 Nov, 2014</time>


  
  &middot; Read in about 2 min
  &middot; (378 Words)
  <br>
  


</div>

</header>

  <div class="container content">
  <ol>
<li>Create Launchpad PPA at <a href="https://launchpad.net/people/+me/+activate-ppa">https://launchpad.net/people/+me/+activate-ppa</a></li>

<li><p>Creating your OpenPGP keys with gpg command</p>

<ul>
<li>Open a terminal and type:
<code>bash
gpg --gen-key
</code></li>
<li>GPG will now ask you a number of questions about the type of key you want to generate. follow the steps below to select the default option each time.</li>
<li>Check that your key has been generated by typing gpg &ndash;list-keys and, if successful.
pub 1024D/12345678 -&gt; this is the important number</li>
<li>Launchpad doesn&rsquo;t store your key directly, so you need to export your public key to a key server, such as keyserver.ubuntu.com:
<code>bash
gpg --keyserver keyserver.ubuntu.com --send-keys 12345678
Replace 12345678 with the pub id you noted in step 3.
</code>
If successful, GPG will display a message similar to:
<code>bash
gpg: sending key 12345678 to hkp server keyserver.ubuntu.com
Importing your key into Launchpad with gpg
</code></li>
</ul></li>

<li><p>Add OpenPGP key to Launchpad</p>

<ul>
<li>Launchpad identifies your OpenPGP key by its fingerprint. In your terminal, you can ask GPG for your key&rsquo;s fingerprint by typing:
<code>
gpg --fingerprint
</code>
GPG will display a message similar to:
<code>
Key fingerprint = `0464 39CD 2486 190A 2C5A  0739 0E68 04DC 16E7 CB72`
copy only the numeric fingerprint: 0464 39CD 2486 190A 2C5A 0739 0E68 04DC 16E7 CB72.
</code></li>
<li>Visit your OpenPGP key page at <a href="https://launchpad.net/people/+me/+editpgpkeys">https://launchpad.net/people/+me/+editpgpkeys</a></li>
<li>Paste the fingerprint that you copied in step 1 into the Fingerprint text-box, then click the Import Key button. Launchpad will use the fingerprint to check the Ubuntu key server for your key and, if successful, send you an encrypted email asking you to confirm the key import. (Note : this is a brief &hellip; from launchpad process&hellip;.. both process take a while so just take your time&hellip;)</li>
</ul></li>

<li><p>set ~/.devscripts</p>

<pre><code class="language-bash">DEBUILD_DPKG_BUILDPACKAGE_OPTS=&quot;-us -I -i&quot;
DEBUILD_LINTIAN_OPTS=&quot;-i -I --show-overrides&quot;
</code></pre></li>

<li><p>get source</p>

<pre><code class="language-bash">apt-get build-dep lshw
bzr lp:ubuntu/trusty/lshw
dch -v X.XtestVersion -D trusty
debuild -S
</code></pre></li>

<li><p>upload changes to launchpad&rsquo;s ppa and push code</p>

<pre><code class="language-bash">dput ppa:swem/ppa xxxxxxxxxxxxxxxxxx_source.changes
bzr push lp:~swem/totem/trunk
</code></pre></li>
</ol>

<p>Extra: Build debian package on your own machine</p>

<pre><code>pbuilder-dist trusty amd64 create
pbuilder-dist trusty amd64 build xxxxxxxxxxxxxxxxxx_source.dsc
</code></pre>

<p>Check ~/pbuilder/trusty_result/, the xxxxxxxxxxxxxxxxxx.deb should be there.</p>

<p>Ref:
- <a href="http://packaging.ubuntu.com/html/packaging-new-software.html">Ubuntu packaging guide - 6. Packaging New Software</a>
- <a href="http://packaging.ubuntu.com/html/fixing-a-bug-example.html">5. Tutorial: Fixing a bug in Ubuntu</a>
- <a href="http://failshell.io/devel/creating-ubuntu-packages-for-launchpad/">Creating Ubuntu packages for Launchpad</a>
- <a href="http://fourdollars.blogspot.tw/2009/07/deb-package-for-ubuntu-linux-launchpad_3385.html">製作 deb package for Ubuntu Linux 並且上傳至 Launchpad PPA</a>
- <a href="http://fourdollars.blogspot.tw/2012/11/launchpad-bazaar.html">淺談 Launchpad 上面的 Bazaar 分支架構</a>
- <a href="https://www.debian.org/doc/manuals/maint-guide/build.en.html">Chapter 6. Building the package</a></p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://swem.github.io/post/2014-11-20-an-expert-is-a-person-who-has-made-all-the-mistakes-that-can-be-made-in-a-very-narrow-field/" title="An expert is a person who has made all the mistakes that can be made in a very narrow field">
      Previous
    </a>
    

    
    <a class="next" href="https://swem.github.io/post/2014-11-26-backtrace-debian-package/" title="backtrace debian package">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  

</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  

  

</div>

</footer>

    </main>
    


<script src="https://swem.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    
  </body>
</html>

